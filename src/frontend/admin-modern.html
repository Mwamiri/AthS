<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AthSys Admin Dashboard - Modern UI</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Vue 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    
    <style>
        :root {
            --primary: #ff6b35;
            --secondary: #00d084;
            --danger: #e63946;
            --warning: #f77f00;
            --info: #457b9d;
        }

        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        .sidebar {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            box-shadow: 4px 0 20px rgba(0,0,0,0.15);
        }

        .sidebar-collapsed { width: 90px; }
        .sidebar-expanded { width: 280px; }

        .nav-item {
            position: relative;
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            margin: 4px 8px;
            border-radius: 10px;
            color: #cbd5e1;
            cursor: pointer;
            overflow: hidden;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 4px;
            background: var(--primary);
            transform: scaleY(0);
            transform-origin: center;
        }

        .nav-item.active {
            background: linear-gradient(135deg, var(--primary) 0%, #ff8c42 100%);
            color: white;
            box-shadow: 0 8px 16px rgba(255, 107, 53, 0.3);
        }

        .nav-item.active::before {
            transform: scaleY(1);
        }

        .nav-item:hover {
            background: rgba(255, 107, 53, 0.1);
            color: #f1f5f9;
        }

        .nav-icon {
            font-size: 20px;
            flex-shrink: 0;
            width: 24px;
            text-align: center;
        }

        .nav-label {
            font-size: 14px;
            font-weight: 500;
            white-space: nowrap;
        }

        /* Quick Action Buttons */
        .quick-btn {
            position: relative;
            overflow: hidden;
            border: none;
            border-radius: 12px;
            padding: 16px 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .quick-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
        }

        .quick-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .quick-btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, #ff8c42 100%);
            color: white;
        }

        .quick-btn-success {
            background: linear-gradient(135deg, var(--secondary) 0%, #06d890 100%);
            color: white;
        }

        .quick-btn-info {
            background: linear-gradient(135deg, var(--info) 0%, #6ba3d4 100%);
            color: white;
        }

        .quick-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .card:hover {
            border-color: #cbd5e1;
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
        }

        /* Stats Card */
        .stat-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 24px;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0.05;
            transform: translate(50%, -50%);
        }

        .stat-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #1e293b;
            margin: 8px 0;
        }

        .stat-label {
            font-size: 14px;
            color: #64748b;
            font-weight: 500;
        }

        .stat-change {
            font-size: 12px;
            margin-top: 8px;
            padding: 4px 8px;
            background: #dcfce7;
            color: #166534;
            border-radius: 6px;
            width: fit-content;
            font-weight: 600;
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: #1e293b;
            margin: 0;
        }

        .modal-body {
            padding: 24px;
        }

        .modal-footer {
            padding: 24px;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 10px 14px;
            border: 1px solid #cbd5e1;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        /* Table */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table thead tr {
            background: #f8fafc;
            border-bottom: 2px solid #e2e8f0;
        }

        .data-table th {
            padding: 14px 16px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-table td {
            padding: 14px 16px;
            border-bottom: 1px solid #e2e8f0;
            color: #1e293b;
        }

        .data-table tbody tr:hover {
            background: #f8fafc;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .badge-active {
            background: #dcfce7;
            color: #166534;
        }

        .badge-pending {
            background: #fef3c7;
            color: #b45309;
        }

        .badge-offline {
            background: #fee2e2;
            color: #991b1b;
        }

        /* Header */
        header {
            background: white;
            border-bottom: 1px solid #e2e8f0;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.02);
        }

        .header-title {
            margin: 0;
            font-size: 24px;
            font-weight: 700;
            color: #1e293b;
        }

        .header-subtitle {
            font-size: 14px;
            color: #64748b;
            margin: 4px 0 0 0;
        }

        /* Page Content */
        .page-content {
            padding: 24px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .grid-4 { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar-expanded { width: 100%; position: fixed; height: 100vh; z-index: 999; }
            .sidebar-collapsed { width: 100%; position: fixed; }
            .grid-3, .grid-4 { grid-template-columns: 1fr; }
            .nav-label { display: none; }
            .page-content { padding: 16px; }
        }

        /* Animations */
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s;
        }

        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 107, 53, 0.3);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Loading Screen -->
        <div v-if="!appReady" class="fixed inset-0 bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center">
            <div class="text-center">
                <div class="loading" style="width: 60px; height: 60px; border-width: 4px; margin: 0 auto 20px;"></div>
                <h1 style="font-size: 32px; font-weight: 700; color: white; margin: 0;">AthSys</h1>
                <p style="color: rgba(255,255,255,0.9); margin-top: 8px;">Modern Dashboard</p>
            </div>
        </div>

        <!-- Main App -->
        <div v-show="appReady" class="flex h-screen bg-gray-100">
            <!-- Sidebar -->
            <aside class="sidebar" :class="sidebarExpanded ? 'sidebar-expanded' : 'sidebar-collapsed'">
                <!-- Logo -->
                <div class="p-4 border-b border-slate-700">
                    <div v-if="sidebarExpanded" class="flex items-center gap-3">
                        <i class="fas fa-person-running text-2xl text-orange-500"></i>
                        <div>
                            <h1 style="font-size: 18px; font-weight: 700; color: white; margin: 0;">AthSys</h1>
                            <p style="font-size: 11px; color: #94a3b8; margin: 2px 0 0 0;">v3.0 Pro</p>
                        </div>
                    </div>
                    <div v-else class="text-center">
                        <i class="fas fa-person-running text-2xl text-orange-500"></i>
                    </div>
                </div>

                <!-- Navigation -->
                <nav class="flex-1 overflow-y-auto p-2">
                    <div v-for="section in menuSections" :key="section.title">
                        <p v-if="sidebarExpanded" style="font-size: 11px; color: #64748b; font-weight: 700; padding: 12px 16px 8px; text-transform: uppercase; letter-spacing: 0.5px;">
                            {{ section.title }}
                        </p>
                        <div v-for="item in section.items" 
                             :key="item.id"
                             @click="currentPage = item.id"
                             :class="['nav-item', { active: currentPage === item.id }]">
                            <i :class="['nav-icon', item.icon]"></i>
                            <span v-if="sidebarExpanded" class="nav-label">{{ item.label }}</span>
                        </div>
                    </div>
                </nav>

                <!-- Sidebar Footer -->
                <div style="border-top: 1px solid #475569; padding: 12px;">
                    <button @click="toggleSidebar" 
                            style="width: 100%; padding: 10px; background: rgba(255,107,53,0.1); color: #ff6b35; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 13px;">
                        <i :class="['fas', sidebarExpanded ? 'fa-chevron-left' : 'fa-chevron-right']"></i>
                        <span v-if="sidebarExpanded" style="margin-left: 8px;">Collapse</span>
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="flex-1 overflow-y-auto flex flex-col">
                <!-- Header -->
                <header>
                    <div>
                        <h1 class="header-title flex items-center gap-3">
                            <i :class="getCurrentPageIcon()" style="color: var(--primary);"></i>
                            {{ getCurrentPageTitle() }}
                        </h1>
                        <p class="header-subtitle">{{ getCurrentPageDescription() }}</p>
                    </div>
                    <div style="display: flex; gap: 12px; align-items: center;">
                        <button @click="toggleTheme" style="padding: 8px 12px; background: #f1f5f9; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
                            <i :class="['fas', theme === 'light' ? 'fa-moon' : 'fa-sun']"></i>
                        </button>
                        <button @click="logout" style="padding: 8px 16px; background: #fee2e2; color: #991b1b; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 13px;">
                            <i class="fas fa-sign-out-alt" style="margin-right: 6px;"></i> Logout
                        </button>
                    </div>
                </header>

                <!-- Page Content -->
                <div class="page-content">
                    <!-- Dashboard -->
                    <div v-if="currentPage === 'dashboard'" style="animation: fade-enter-active;">
                        <!-- Stats -->
                        <div class="grid-4" style="margin-bottom: 30px;">
                            <div v-for="stat in dashboardStats" :key="stat.id" class="stat-card">
                                <i :class="['stat-icon', stat.icon]" :style="{ color: stat.color }"></i>
                                <div class="stat-value">{{ stat.value }}</div>
                                <div class="stat-label">{{ stat.label }}</div>
                                <div class="stat-change">{{ stat.change }}</div>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="card" style="padding: 24px; margin-bottom: 30px;">
                            <h3 style="font-size: 18px; font-weight: 700; margin: 0 0 16px 0; color: #1e293b;">
                                <i class="fas fa-rocket" style="margin-right: 8px; color: var(--primary);"></i> Quick Actions
                            </h3>
                            <div class="grid-3">
                                <button @click="openModal('create-race')" class="quick-btn quick-btn-primary">
                                    <i class="fas fa-plus"></i> Create Race
                                </button>
                                <button @click="openModal('register-athlete')" class="quick-btn quick-btn-success">
                                    <i class="fas fa-user-plus"></i> Register Athlete
                                </button>
                                <button @click="openModal('add-user')" class="quick-btn quick-btn-info">
                                    <i class="fas fa-users"></i> Add User
                                </button>
                            </div>
                        </div>

                        <!-- Recent Data -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-bottom: 30px;">
                            <!-- Recent Races -->
                            <div class="card">
                                <div style="padding: 20px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
                                    <h3 style="margin: 0; font-size: 16px; font-weight: 700; color: #1e293b;">
                                        <i class="fas fa-flag" style="margin-right: 8px; color: #ff6b35;"></i> Recent Races
                                    </h3>
                                    <button @click="currentPage = 'races'" style="color: #ff6b35; border: none; background: none; cursor: pointer; font-size: 13px; font-weight: 600;">View All →</button>
                                </div>
                                <div style="padding: 0;">
                                    <div v-for="race in races.slice(0, 3)" :key="race.id" style="padding: 16px 20px; border-bottom: 1px solid #f1f5f9; cursor: pointer;" @click="currentPage = 'races'">
                                        <p style="margin: 0; font-weight: 600; color: #1e293b; font-size: 14px;">{{ race.name }}</p>
                                        <p style="margin: 4px 0 0 0; font-size: 12px; color: #64748b;">{{ race.date }} • {{ race.location }}</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Recent Athletes -->
                            <div class="card">
                                <div style="padding: 20px; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
                                    <h3 style="margin: 0; font-size: 16px; font-weight: 700; color: #1e293b;">
                                        <i class="fas fa-person-running" style="margin-right: 8px; color: #00d084;"></i> Recent Athletes
                                    </h3>
                                    <button @click="currentPage = 'athletes'" style="color: #00d084; border: none; background: none; cursor: pointer; font-size: 13px; font-weight: 600;">View All →</button>
                                </div>
                                <div style="padding: 0;">
                                    <div v-for="athlete in athletes.slice(0, 3)" :key="athlete.id" style="padding: 16px 20px; border-bottom: 1px solid #f1f5f9; cursor: pointer;" @click="currentPage = 'athletes'">
                                        <p style="margin: 0; font-weight: 600; color: #1e293b; font-size: 14px;">{{ athlete.name }}</p>
                                        <p style="margin: 4px 0 0 0; font-size: 12px; color: #64748b;">{{ athlete.team }} • {{ athlete.event }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Races Page -->
                    <div v-else-if="currentPage === 'races'">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div>
                                <h2 style="margin: 0 0 4px 0; font-size: 20px; font-weight: 700; color: #1e293b;">Race Management</h2>
                                <p style="margin: 0; font-size: 14px; color: #64748b;">Create, manage and monitor races</p>
                            </div>
                            <button @click="openModal('create-race')" class="quick-btn quick-btn-primary">
                                <i class="fas fa-plus"></i> New Race
                            </button>
                        </div>
                        <div class="card" style="overflow: hidden;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Race Name</th>
                                        <th>Date</th>
                                        <th>Location</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="race in races" :key="race.id">
                                        <td><strong>{{ race.name }}</strong></td>
                                        <td>{{ race.date }}</td>
                                        <td>{{ race.location }}</td>
                                        <td>
                                            <span :class="['badge', race.status === 'active' ? 'badge-active' : 'badge-pending']">
                                                {{ race.status }}
                                            </span>
                                        </td>
                                        <td>
                                            <button style="color: #457b9d; border: none; background: none; cursor: pointer; margin-right: 12px; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-edit"></i> Edit
                                            </button>
                                            <button style="color: #e63946; border: none; background: none; cursor: pointer; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-trash"></i> Delete
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Athletes Page -->
                    <div v-else-if="currentPage === 'athletes'">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div>
                                <h2 style="margin: 0 0 4px 0; font-size: 20px; font-weight: 700; color: #1e293b;">Athlete Management</h2>
                                <p style="margin: 0; font-size: 14px; color: #64748b;">Register and manage athletes</p>
                            </div>
                            <button @click="openModal('register-athlete')" class="quick-btn quick-btn-success">
                                <i class="fas fa-user-plus"></i> Register Athlete
                            </button>
                        </div>
                        <div class="card" style="overflow: hidden;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Team</th>
                                        <th>Event</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="athlete in athletes" :key="athlete.id">
                                        <td><strong>{{ athlete.name }}</strong></td>
                                        <td>{{ athlete.team }}</td>
                                        <td>{{ athlete.event }}</td>
                                        <td>
                                            <span :class="['badge', athlete.status === 'active' ? 'badge-active' : 'badge-pending']">
                                                {{ athlete.status }}
                                            </span>
                                        </td>
                                        <td>
                                            <button style="color: #457b9d; border: none; background: none; cursor: pointer; margin-right: 12px; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-edit"></i> Edit
                                            </button>
                                            <button style="color: #e63946; border: none; background: none; cursor: pointer; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-trash"></i> Delete
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Results Page -->
                    <div v-else-if="currentPage === 'results'">
                        <div style="margin-bottom: 24px;">
                            <h2 style="margin: 0 0 4px 0; font-size: 20px; font-weight: 700; color: #1e293b;">Results Management</h2>
                            <p style="margin: 0; font-size: 14px; color: #64748b;">View and manage race results</p>
                        </div>
                        <div class="card" style="overflow: hidden;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Race</th>
                                        <th>Athlete</th>
                                        <th>Time</th>
                                        <th>Position</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="result in results" :key="result.id">
                                        <td><strong>{{ result.race }}</strong></td>
                                        <td>{{ result.athlete }}</td>
                                        <td><strong>{{ result.time }}</strong></td>
                                        <td>
                                            <span style="font-weight: 700; color: #ff6b35;">{{ result.position }}</span>
                                        </td>
                                        <td>
                                            <button style="color: #457b9d; border: none; background: none; cursor: pointer; margin-right: 12px; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-eye"></i> View
                                            </button>
                                            <button style="color: #8b5cf6; border: none; background: none; cursor: pointer; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-edit"></i> Edit
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Users Page -->
                    <div v-else-if="currentPage === 'users'">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                            <div>
                                <h2 style="margin: 0 0 4px 0; font-size: 20px; font-weight: 700; color: #1e293b;">User Management</h2>
                                <p style="margin: 0; font-size: 14px; color: #64748b;">Manage users and permissions</p>
                            </div>
                            <button @click="openModal('add-user')" class="quick-btn quick-btn-info">
                                <i class="fas fa-user-plus"></i> Add User
                            </button>
                        </div>
                        <div class="card" style="overflow: hidden;">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr v-for="user in users" :key="user.id">
                                        <td><strong>{{ user.name }}</strong></td>
                                        <td>{{ user.email }}</td>
                                        <td>
                                            <span style="padding: 4px 8px; background: #f0f4f8; color: #1e293b; border-radius: 6px; font-size: 12px; font-weight: 600;">
                                                {{ user.role }}
                                            </span>
                                        </td>
                                        <td>
                                            <span :class="['badge', user.status === 'active' ? 'badge-active' : 'badge-pending']">
                                                {{ user.status }}
                                            </span>
                                        </td>
                                        <td>
                                            <button style="color: #457b9d; border: none; background: none; cursor: pointer; margin-right: 12px; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-edit"></i> Edit
                                            </button>
                                            <button style="color: #e63946; border: none; background: none; cursor: pointer; font-weight: 600; font-size: 13px;">
                                                <i class="fas fa-trash"></i> Delete
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Settings Page -->
                    <div v-else-if="currentPage === 'settings'">
                        <h2 style="margin: 0 0 4px 0; font-size: 20px; font-weight: 700; color: #1e293b;">System Settings</h2>
                        <p style="margin: 0 0 24px 0; font-size: 14px; color: #64748b;">Configure system and application settings</p>
                        <div class="card" style="padding: 24px;">
                            <h3 style="margin: 0 0 16px 0; font-size: 16px; font-weight: 700; color: #1e293b;">
                                <i class="fas fa-cog" style="margin-right: 8px; color: var(--primary);"></i> General Settings
                            </h3>
                            <div class="form-group">
                                <label class="form-label">Application Name</label>
                                <input type="text" class="form-input" value="AthSys Athletic Management System" />
                            </div>
                            <div class="form-group">
                                <label class="form-label">Organization</label>
                                <input type="text" class="form-input" value="Athletic Association" />
                            </div>
                            <div style="display: flex; gap: 12px; margin-top: 24px;">
                                <button style="padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                    Save Changes
                                </button>
                                <button style="padding: 10px 20px; background: #f1f5f9; color: #1e293b; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Modal -->
        <div v-if="showModal" class="modal-overlay" @click="closeModal">
            <div class="modal-content" @click="$event.stopPropagation()">
                <div class="modal-header">
                    <h2 class="modal-title">
                        <i :class="['fas', getModalIcon()]" style="margin-right: 8px; color: var(--primary);"></i>
                        {{ modalTitle }}
                    </h2>
                    <button @click="closeModal" style="background: none; border: none; font-size: 20px; cursor: pointer; color: #64748b;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Create Race Form -->
                    <div v-if="modalType === 'create-race'">
                        <div class="form-group">
                            <label class="form-label">Race Name</label>
                            <input type="text" class="form-input" placeholder="e.g., 100m Sprint Championship" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-input" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Location</label>
                            <input type="text" class="form-input" placeholder="Venue or Stadium Name" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Distance (meters)</label>
                            <input type="number" class="form-input" placeholder="100" />
                        </div>
                    </div>

                    <!-- Register Athlete Form -->
                    <div v-else-if="modalType === 'register-athlete'">
                        <div class="form-group">
                            <label class="form-label">Athlete Name</label>
                            <input type="text" class="form-input" placeholder="Full Name" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" placeholder="email@example.com" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Team</label>
                            <input type="text" class="form-input" placeholder="Team Name" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Event</label>
                            <input type="text" class="form-input" placeholder="e.g., 100m, 400m, 1500m" />
                        </div>
                    </div>

                    <!-- Add User Form -->
                    <div v-else-if="modalType === 'add-user'">
                        <div class="form-group">
                            <label class="form-label">Full Name</label>
                            <input type="text" class="form-input" placeholder="Full Name" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" placeholder="email@example.com" />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Role</label>
                            <select class="form-input">
                                <option>Administrator</option>
                                <option>Manager</option>
                                <option>Official</option>
                                <option>Viewer</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-input" placeholder="••••••••" />
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button @click="closeModal" style="padding: 10px 20px; background: #f1f5f9; color: #1e293b; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                        Cancel
                    </button>
                    <button style="padding: 10px 20px; background: var(--primary); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                        Create
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    appReady: false,
                    sidebarExpanded: true,
                    showModal: false,
                    modalTitle: '',
                    modalType: '',
                    theme: localStorage.getItem('theme') || 'light',
                    currentPage: 'dashboard',

                    menuSections: [
                        {
                            title: 'Main',
                            items: [
                                { id: 'dashboard', label: 'Dashboard', icon: 'fas fa-chart-bar' }
                            ]
                        },
                        {
                            title: 'Management',
                            items: [
                                { id: 'races', label: 'Races', icon: 'fas fa-flag' },
                                { id: 'athletes', label: 'Athletes', icon: 'fas fa-person-running' },
                                { id: 'results', label: 'Results', icon: 'fas fa-trophy' }
                            ]
                        },
                        {
                            title: 'Administration',
                            items: [
                                { id: 'users', label: 'Users', icon: 'fas fa-users' }
                            ]
                        },
                        {
                            title: 'System',
                            items: [
                                { id: 'settings', label: 'Settings', icon: 'fas fa-cog' }
                            ]
                        }
                    ],

                    dashboardStats: [
                        { id: 1, label: 'Total Races', value: 24, change: '+12% this month', icon: 'fas fa-flag', color: '#ff6b35' },
                        { id: 2, label: 'Athletes', value: 156, change: '+8% this month', icon: 'fas fa-person-running', color: '#00d084' },
                        { id: 3, label: 'Results', value: 342, change: '+25% this month', icon: 'fas fa-trophy', color: '#457b9d' },
                        { id: 4, label: 'Active Users', value: 18, change: '+3% this month', icon: 'fas fa-users', color: '#f77f00' }
                    ],

                    races: [
                        { id: 1, name: '100m Sprint Championship', date: '2026-02-25', location: 'Stadium A', status: 'active' },
                        { id: 2, name: '400m Relay Finals', date: '2026-02-26', location: 'Stadium B', status: 'active' },
                        { id: 3, name: '1500m Distance Run', date: '2026-02-27', location: 'Stadium C', status: 'pending' }
                    ],

                    athletes: [
                        { id: 1, name: 'John Doe', team: 'Team Alpha', event: '100m', status: 'active' },
                        { id: 2, name: 'Jane Smith', team: 'Team Beta', event: '400m', status: 'active' },
                        { id: 3, name: 'Mike Johnson', team: 'Team Alpha', event: '1500m', status: 'pending' }
                    ],

                    users: [
                        { id: 1, name: 'Admin User', email: 'admin@athsys.com', role: 'Administrator', status: 'active' },
                        { id: 2, name: 'Race Manager', email: 'manager@athsys.com', role: 'Manager', status: 'active' },
                        { id: 3, name: 'Official Timing', email: 'timing@athsys.com', role: 'Official', status: 'active' }
                    ],

                    results: [
                        { id: 1, race: '100m Sprint', athlete: 'John Doe', time: '10.2s', position: '1st' },
                        { id: 2, race: '100m Sprint', athlete: 'Jane Smith', time: '10.5s', position: '2nd' },
                        { id: 3, race: '400m Relay', athlete: 'Mike Johnson', time: '45.3s', position: '1st' }
                    ]
                };
            },

            methods: {
                async init() {
                    const token = localStorage.getItem('authToken');
                    if (!token) {
                        window.location.href = 'index.html';
                        return;
                    }
                    this.applyTheme();
                    this.appReady = true;
                },

                toggleSidebar() {
                    this.sidebarExpanded = !this.sidebarExpanded;
                },

                toggleTheme() {
                    this.theme = this.theme === 'light' ? 'dark' : 'light';
                    this.applyTheme();
                    localStorage.setItem('theme', this.theme);
                },

                applyTheme() {
                    if (this.theme === 'dark') {
                        document.documentElement.classList.add('dark');
                    } else {
                        document.documentElement.classList.remove('dark');
                    }
                },

                getCurrentPageTitle() {
                    const titles = {
                        dashboard: 'Dashboard',
                        races: 'Race Management',
                        athletes: 'Athlete Management',
                        results: 'Results Management',
                        users: 'User Management',
                        settings: 'System Settings'
                    };
                    return titles[this.currentPage] || 'Dashboard';
                },

                getCurrentPageDescription() {
                    const descriptions = {
                        dashboard: 'Welcome to your AthSys admin panel',
                        races: 'Create and manage races and events',
                        athletes: 'Register and manage athlete profiles',
                        results: 'View and manage race results',
                        users: 'Manage users and permissions',
                        settings: 'Configure system settings'
                    };
                    return descriptions[this.currentPage] || '';
                },

                getCurrentPageIcon() {
                    const icons = {
                        'create-race': 'fa-plus',
                        'register-athlete': 'fa-user-plus',
                        'add-user': 'fa-users'
                    };
                    return icons[this.modalType] || 'fa-check';
                },

                openModal(type) {
                    this.modalType = type;
                    const titles = {
                        'create-race': 'Create New Race',
                        'register-athlete': 'Register New Athlete',
                        'add-user': 'Add New User'
                    };
                    this.modalTitle = titles[type];
                    this.showModal = true;
                },

                closeModal() {
                    this.showModal = false;
                    this.modalType = '';
                    this.modalTitle = '';
                },

                logout() {
                    if (confirm('Are you sure you want to logout?')) {
                        localStorage.clear();
                        window.location.href = 'index.html';
                    }
                }
            },

            mounted() {
                this.init();
            }
        }).mount('#app');
    </script>
</body>
</html>
